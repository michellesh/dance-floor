(this["webpackJsonpdance-floor"]=this["webpackJsonpdance-floor"]||[]).push([[0],{25:function(t,n,e){},34:function(t,n,e){"use strict";e.r(n);var r,a,c=e(0),i=e.n(c),o=e(17),u=e.n(o),f=(e(25),e(1)),l=e(3),s=e(12),h=e(13),d=e(4),x=e(10),b=function(t){if(t){var n=t.canvas.getBoundingClientRect();return{width:n.width,height:n.height}}},y=Math.PI/2,j=function(t,n){return Math.atan2(n.y-t.y,n.x-t.x)-y},g=function(t,n){return Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y))},p=function(t,n,e){return{x:t.x+(n.x-t.x)*e,y:t.y+(n.y-t.y)*e}},O=function(t,n,e){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)},v=function(t){return t*Math.PI/180-y},M=e(5),m=function(t,n){var e=w(t,n),r=b(t),a=r.width,c=r.height;t.clearRect(0,0,a,c);var i=function(t){var n=function(t){return 180*(t+y)/Math.PI}(j(e,t))+90;return n<0?n+360:n>360?n-360:n},o=d.scaleLinear().domain([-10,0,10]).range([1,5,1]).clamp(!0),u=n.reduce((function(t,n,e){var r=n.map((function(t){return i(t)})),a=Math.max.apply(Math,Object(M.a)(r)),c=Math.min.apply(Math,Object(M.a)(r));return t[e]=c+(a-c)/2,t}),{}),f=225;window.requestAnimationFrame((function e(){var r;(r=f,Object.keys(u).filter((function(t){return(n=u[t])>=r-20&&n<=r+20;var n}))).forEach((function(t){n[t]=n[t].map((function(t){return t.radius(o(Math.abs(f-i(t))))}))})),S(t,n),f=function(t){return 360===t?0:135===t?225:t+1}(f),window.requestAnimationFrame(e)}))},w=function(t,n){return{x:b(t).width/2,y:n[0][0].y}},A=function(t,n){var e=b(t),r=e.width,a=e.height;t.clearRect(0,0,r,a),n.forEach((function(n){return n.draw(t)}))},S=function(t,n){var e=b(t),r=e.width,a=e.height;t.clearRect(0,0,r,a),A(t,n.flatMap((function(t){return t})))},k=e(7);window.d3=d;var E=1100,P=100,R="black",I=h.a.canvas(r||(r=Object(s.a)(["\n  background-color: ",";\n"])),R),q=h.a.div(a||(a=Object(s.a)(["\n  background-color: ",";\n  height: 100%;\n  text-align: center;\n"])),R),z=[v(180),v(360)],B=[v(0),v(180)],C=function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v(0),c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v(360),i={x:p(n,e,.5).x,y:p(n,e,.5).y,rx:r,ry:g(n,e)/2,rotation:j(n,e),startAngle:a,endAngle:c};return Object.freeze(Object(l.a)(Object(l.a)({},i),{},{draw:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",e=arguments.length>2?arguments[2]:void 0,r=i.x,a=i.y,c=i.rx,o=i.ry,u=i.rotation,f=i.startAngle,l=i.endAngle;t.beginPath(),t.ellipse(r,a,c,o,u,f,l),t.strokeStyle=n,t.stroke(),e&&(t.fillStyle=e,t.fill())},pad:function(){return t(n,e,r-1,a,c)}}))},L=function t(n){var e={color:"white",endAngle:2*Math.PI,radius:1,startAngle:0},r=Object(l.a)(Object(l.a)({},e),n);return Object.freeze(Object(l.a)(Object(l.a)({},r),{},{color:function(n){return t(Object(l.a)(Object(l.a)({},r),{},{color:n}))},r:r.radius,radius:function(n){return t(Object(l.a)(Object(l.a)({},r),{},{radius:n}))},resetColor:function(){return t(Object(l.a)(Object(l.a)({},r),{},{color:e.color}))},resetRadius:function(){return t(Object(l.a)(Object(l.a)({},r),{},{radius:e.radius}))},draw:function(t){var n=r.x,e=r.y,a=r.color,c=r.radius,i=r.startAngle,o=r.endAngle;t.beginPath(),t.arc(n,e,c,i,o),t.fillStyle=a,t.fill()}}))},T=function t(n){var e=n.p1,r=n.p2,a=n.p3,c=n.rx,i=n.numStrands,o=d.range(0,i).map((function(t){var n=c/(i-1),o=p(a,e,t/(i-1)),u=c-t*n*2,l=u>=0?B:z,s=Object(f.a)(l,2),h=s[0],d=s[1];return C(o,r,Math.abs(u),h,d)})),u=Object(l.a)(Object(l.a)({},n),{},{e1:C(e,r,c,v(240),v(360)),e2:C(r,a,c,v(180),v(300)),e3:C(a,e,c,v(180),v(360)),ellipses:o});return Object.freeze(Object(l.a)(Object(l.a)({},u),{},{setNumStrands:function(n){return t(Object(l.a)(Object(l.a)({},u),{},{numStrands:n}))},getLEDs:function(){return o.map((function(t){var n=(t.endAngle-t.startAngle)/165,c=d.range(t.startAngle,t.endAngle,n).map((function(n){return L((r=n,{x:(e=t).x+e.rx*Math.cos(r)*Math.cos(e.rotation)-e.ry*Math.sin(r)*Math.sin(e.rotation),y:e.y+e.rx*Math.cos(r)*Math.sin(e.rotation)+e.ry*Math.sin(r)*Math.cos(e.rotation)}));var e,r})).filter((function(t){return function(t,n,e,r){var a=O(t,n,e),c=O(t,e,r),i=O(t,r,n);return!((a<0||c<0||i<0)&&(a>0||c>0||i>0))}(t,e,r,a)&&[u.e1.pad(),u.e2.pad(),u.e3].every((function(n){return!function(t,n){var e=t.rx,r=t.ry,a=t.x,c=t.y,i=t.rotation,o=n.x,u=n.y;return Math.pow(Math.cos(i)*(o-a)+Math.sin(i)*(u-c),2)/(e*e)+Math.pow(Math.sin(i)*(o-a)-Math.cos(i)*(u-c),2)/(r*r)<=1}(n,t)}))}));return Object(x.isEqual)([t.startAngle,t.endAngle],B)?Object(x.reverse)(c):c})).filter((function(t){return t.length>0}))},draw:function(t){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(550,550),t.lineTo(a.x,a.y),t.fillStyle="#455B68",t.fill(),[u.e1,u.e2,u.e3].forEach((function(n){n.draw(t,R,R)}))}}))},D=[{p1:{x:-60,y:300},p2:{x:880,y:550},p3:{x:-60,y:800},rx:P},{p1:{x:300,y:-100},p2:{x:750,y:750},p3:{x:-100,y:300},rx:P},{p1:{x:1200,y:300},p2:{x:350,y:750},p3:{x:800,y:-100},rx:P},{p1:{x:1160,y:800},p2:{x:220,y:550},p3:{x:1160,y:300},rx:P}].map((function(t){return T(t).setNumStrands(7)})).map((function(t){return t.getLEDs().map((function(t){return t}))})).flatMap((function(t){return t})),F=function(){var t=function(){var t=Object(c.useRef)(null),n=Object(c.useState)(),e=Object(f.a)(n,2),r=e[0],a=e[1];return Object(c.useEffect)((function(){var n=t.current;n&&a(n.getContext("2d"))}),[t]),[t,r]}(),n=Object(f.a)(t,2),e=n[0],r=n[1];return Object(c.useEffect)((function(){r&&m(r,D)}),[r]),Object(k.jsx)(q,{children:Object(k.jsx)(I,{ref:e,width:E,height:900})})},J=function(){return Object(k.jsx)(F,{})};u.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(J,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.41e64eb5.chunk.js.map